<!DOCTYPE html>
<html lang='en'>
<head>
<meta charset='UTF-8'>
<title>Product Catalog Manager</title>
<style>
body{background:#000;color:#d4af37;font-family:Arial;padding:20px;}
table{width:100%;margin-top:20px;border-collapse:collapse;}
td,th{border-bottom:1px solid #333;padding:8px;font-size:13px;}
.btn{background:#d4af37;color:#000;padding:6px 10px;text-decoration:none;border-radius:4px;font-weight:bold;}
</style>
</head>
<body>
<h1>Product Catalog Manager</h1>
<p>Administer all products in the NeuroCommerce ecosystem.</p>

<div>
  <input id='name' placeholder='Name'>
  <input id='price' placeholder='Price'>
  <input id='category' placeholder='Category'>
  <input id='image' placeholder='Image URL'>
  <input id='link' placeholder='Product Link'>
  <button onclick='addProduct()'>Add Product</button>
</div>

<table id='tbl'>
  <tr><th>Name</th><th>Price</th><th>Category</th><th>Vendor</th><th>Created</th></tr>
</table>

<script>
async function load(){
  const res = await fetch('/api/catalog/list');
  const data = await res.json();
  const tbl = document.getElementById('tbl');

  data.products.forEach(p=>{
    const tr = document.createElement('tr');
    tr.innerHTML = \
      <td>\</td>
      <td>\</td>
      <td>\</td>
      <td>\</td>
      <td>\</td>
    \;
    tbl.appendChild(tr);
  });
}

async function addProduct(){
  const body = {
    name:   document.getElementById('name').value,
    price:  document.getElementById('price').value,
    category: document.getElementById('category').value,
    image: document.getElementById('image').value,
    link: document.getElementById('link').value
  };
  await fetch('/api/catalog/add',{
    method:'POST',
    headers:{'Content-Type':'application/json'},
    body:JSON.stringify(body)
  });
  location.reload();
}

load();
</script>
</body>
</html>

<!-- Irene Widget -->
<link rel='stylesheet' href='/butler/widget.css'>
<div include-html='/butler/widget.html'></div>
<script src='/butler/widget.js' defer></script>
